<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <title>莫氏有限公司</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    #game-container {
      width: 400px;
      height: 500px;
      background-color: #8FBC8F;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      margin-bottom: 20px;
    }
    #player {
      width: 50px;
      height: 50px;
      position: absolute;
      bottom: 20px;
      transition: left 0.1s;
      font-size: 50px;
      line-height: 50px;
      text-align: center;
    }
    .portal, .obstacle {
      width: 80px;
      height: 80px;
      position: absolute;
      top: -80px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
      color: #000;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
    }
    .obstacle {
      background-color: #FF4500;
    }
    #score {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 24px;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    #character-select {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .character {
      width: 50px;
      height: 50px;
      margin: 10px;
      cursor: pointer;
      font-size: 40px;
      line-height: 50px;
      display: inline-block;
      transition: transform 0.2s;
    }
    .character:hover {
      transform: scale(1.2);
    }
    #share-button {
      position: absolute;
      bottom: 10px;
      right: 10px;
      padding: 5px 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
    }
    #share-button:hover {
      background-color: #d16fb7a8;
    }
    #game-over {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      display: none;
    }
    #restart-button, #share-score-button {
      margin-top: 10px;
      padding: 5px 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
    }
    #restart-button:hover, #share-score-button:hover {
      background-color: #45a049;
    }
    #info-box {
      width: 400px;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    #translate {
      margin-top: 20px;
    }
  </style>
  </head>
  <body>


















    <div id="game-container">
      <div id="player"></div>
      <div id="score">⌛: 0</div>
      <a id="share-button" href="./index0525">🏡</a>
      <div id="game-over">
        <h2>🫣</h2>
        <p>⌛ =  <span id="final-score"></span></p>
        <button id="restart-button">🎮</button>
        <button id="share-score-button">🛜</button>
      </div>
    </div>
  
    <div id="character-select" style="display:none;">
      <div id="character-options"></div>
    </div>
  
    <div id="info-box">
      <p>🏡 = home page </p>
      <p>🔧 = ai tool </p>
      <p>📢 = advertising page </p>
      <p>💰 = Business concession </p>
      <p>⛓️ = blockchain solutions </p>
      <p title="阻礙物">🌵, 🗿, 🦂 = Game Over</p>
      <p title="每500分钟可以解锁一个角色">⌛ = 500 =  ➕❓👤 </p><!-- 每500分钟可以解锁一个角色 -->
    </div>


















    <script>
      const gameContainer = document.getElementById('game-container');
      const player = document.getElementById('player');
      const scoreElement = document.getElementById('score');
      const characterSelect = document.getElementById('character-select');
      const characterOptions = document.getElementById('character-options');
      const shareButton = document.getElementById('share-button');
      const gameOverScreen = document.getElementById('game-over');
      const finalScoreElement = document.getElementById('final-score');
      const restartButton = document.getElementById('restart-button');
      const shareScoreButton = document.getElementById('share-score-button');
  
      let score = 0;
      let gameInterval;
      let objectInterval;
      let playerX = 200;
      let gameRunning = false;
      let isPressed = false;
  






      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      const characters = [
        '🐹', '🐰', '🐻', '🐼', '🦊'
      ];
  
      const portals = [
        { color: '#4CAF50', url: './index0525', symbol: '🏡' },
        { color: '#7986cb', url: 'https://tool2023.github.io/', symbol: '🔧' },
        { color: '#fbc02d', url: './宣傳王', symbol: '📢' },
        { color: '#33691e', url: './abta', symbol: '⛓️' },
        { color: '#9575cd', url: 'https://www.facebook.com/groups/441454859557899', symbol: '💰' }
      ];
  
      const obstacles = [
        '🌵', '🗿', '🦂'
      ];

      function updateScore(value) {
        score += value;
        scoreElement.textContent = `⌛: ${score}`;
        localStorage.setItem('cuteAnimalPortalDashScore', score);
  
        if (score % 10000 === 0 && score / 10000 < characters.length) {
          updateCharacterSelect();
        }
      }
  
      function updateCharacterSelect() {
        // 每500分钟可以解锁一个角色
        const unlockedCharacters = Math.min(3 + Math.floor(score / 500), characters.length);
        //const unlockedCharacters = Math.min(3 + Math.floor(score / 10000), characters.length);
        characterOptions.innerHTML = '';
        for (let i = 0; i < unlockedCharacters; i++) {
          const charElement = document.createElement('span');
          charElement.textContent = characters[i];
          charElement.className = 'character';
          charElement.onclick = () => selectCharacter(i);
          characterOptions.appendChild(charElement);
        }
      }
  


      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////


      





      function selectCharacter(index) {
        player.textContent = characters[index];
        characterSelect.style.display = 'none';
        startGame();
      }
  
      function createPortal() {
        const portal = document.createElement('div');
        portal.className = 'portal';
        const randomPortal = portals[Math.floor(Math.random() * portals.length)];
        portal.style.backgroundColor = randomPortal.color;
        portal.style.left = `${Math.random() * (gameContainer.clientWidth - 80)}px`;
        portal.textContent = randomPortal.symbol;
        gameContainer.appendChild(portal);
  
        const portalAnimation = portal.animate([
          { top: '-80px' },
          { top: '580px' }
        ], {
          duration: 4000,
          easing: 'linear'
        });
  
        portalAnimation.onfinish = () => {
          portal.remove();
        };
  
        return { element: portal, url: randomPortal.url };
      }
  
      function createObstacle() {
        const obstacle = document.createElement('div');
        obstacle.className = 'obstacle';
        obstacle.style.left = `${Math.random() * (gameContainer.clientWidth - 80)}px`;
        obstacle.textContent = obstacles[Math.floor(Math.random() * obstacles.length)];
        gameContainer.appendChild(obstacle);
  
        const obstacleAnimation = obstacle.animate([
          { top: '-80px' },
          { top: '580px' }
        ], {
          duration: 3500,
          easing: 'linear'
        });
  
        obstacleAnimation.onfinish = () => {
          obstacle.remove();
        };
  
        return obstacle;
      }
  
      function checkCollision() {
        const playerRect = player.getBoundingClientRect();
        const objects = document.querySelectorAll('.portal, .obstacle');
  
        for (let object of objects) {
          const objectRect = object.getBoundingClientRect();
          if (
            playerRect.left < objectRect.right &&
            playerRect.right > objectRect.left &&
            playerRect.top < objectRect.bottom &&
            playerRect.bottom > objectRect.top
          ) {
            if (object.classList.contains('portal')) {
              const url = object.dataset.url;
              window.location.href = url;
            } else {
              gameOver();
            }
            return true;
          }
        }
        return false;
      }
  
      function updateGame() {
        if (isPressed) {
          playerX -= 5;
        } else {
          playerX += 5;
        }
  
        playerX = Math.max(0, Math.min(playerX, gameContainer.clientWidth - 50));
  
        player.style.left = `${playerX}px`;
  
        if (!checkCollision()) {
          updateScore(1);
        }
      }
  
      function startGame() {
        gameRunning = true;
        score = 0;
        updateScore(0);
        playerX = 200;
        player.style.left = `${playerX}px`;
        gameOverScreen.style.display = 'none';
        gameInterval = setInterval(updateGame, 20);
        objectInterval = setInterval(() => {
          if (Math.random() < 0.7) {
            const portal = createPortal();
            portal.element.dataset.url = portal.url;
          } else {
            createObstacle();
          }
        }, 1000);
      }
  
      function gameOver() {
        gameRunning = false;
        clearInterval(gameInterval);
        clearInterval(objectInterval);
        finalScoreElement.textContent = score;
        gameOverScreen.style.display = 'block';
      }
  
      function init() {
        score = parseInt(localStorage.getItem('cuteAnimalPortalDashScore')) || 0;
        updateScore(0);
        updateCharacterSelect();
        characterSelect.style.display = 'block';
      }
  





      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      function shareScore() {
        const shareText = `I scored ${score} points in Cute Animal Portal Dash! Can you beat my score?`;
        if (navigator.share) {
          navigator.share({
            title: 'Cute Animal Portal Dash Score',
            text: shareText,
            url: window.location.href,
          });
        } else {
          alert(shareText);
        }
      }
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////
      //////////////////////////////////////////////////////////////////







      
      gameContainer.addEventListener('mousedown', () => {
        if (gameRunning) {
          isPressed = true;
        }
      });
  
      gameContainer.addEventListener('mouseup', () => {
        if (gameRunning) {
          isPressed = false;
        }
      });
  
      gameContainer.addEventListener('touchstart', (e) => {
        if (gameRunning) {
          isPressed = true;
          e.preventDefault();
        }
      });
  
      gameContainer.addEventListener('touchend', () => {
        if (gameRunning) {
          isPressed = false;
        }
      });
  

      shareScoreButton.addEventListener('click', shareScore);
  
      restartButton.addEventListener('click', () => {
        startGame();
      });
  
      init();
    </script>








  </body></html>