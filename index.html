<html>
	<head>
		<meta charset="utf-8">
		<title>莫氏有限公司</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<script src="web3.min.js"></script>
		<link href="css.css" rel="stylesheet">

		<style>

		</style>
	</head>
	
<!-- ============ https://www.w3schools.com/graphics/tryit.asp?filename=trygame_default_gravity ============ -->
<body onload="startGame()">
	<script>
	
	var myGamePiece;
	var myObstacles = [];
	var myScore;
	
	function startGame() {
		myGamePiece = new component(30, 30, "red", 10, 120);
		myGamePiece.gravity = 0.05;
		myScore = new component("30px", "Consolas", "black", 280, 40, "text");
		myGameArea.start();
	}
	
	var myGameArea = {
		canvas : document.createElement("canvas"),
		start : function() {
			this.canvas.width = 480;
			this.canvas.height = 270;
			this.context = this.canvas.getContext("2d");
			document.body.insertBefore(this.canvas, document.body.childNodes[0]);
			this.frameNo = 0;
			this.interval = setInterval(updateGameArea, 20);
			},
		clear : function() {
			this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
		}
	}
	
	function component(width, height, color, x, y, type) {
		this.type = type;
		this.score = 0;
		this.width = width;
		this.height = height;
		this.speedX = 0;
		this.speedY = 0;    
		this.x = x;
		this.y = y;
		this.gravity = 0;
		this.gravitySpeed = 0;
		this.update = function() {
			ctx = myGameArea.context;
			if (this.type == "text") {
				ctx.font = this.width + " " + this.height;
				ctx.fillStyle = color;
				ctx.fillText(this.text, this.x, this.y);
			} else {
				ctx.fillStyle = color;
				ctx.fillRect(this.x, this.y, this.width, this.height);
			}
		}
		this.newPos = function() {
			this.gravitySpeed += this.gravity;
			this.x += this.speedX;
			this.y += this.speedY + this.gravitySpeed;
			this.hitBottom();
		}
		this.hitBottom = function() {
			var rockbottom = myGameArea.canvas.height - this.height;
			if (this.y > rockbottom) {
				this.y = rockbottom;
				this.gravitySpeed = 0;
			}
		}
		this.crashWith = function(otherobj) {
			var myleft = this.x;
			var myright = this.x + (this.width);
			var mytop = this.y;
			var mybottom = this.y + (this.height);
			var otherleft = otherobj.x;
			var otherright = otherobj.x + (otherobj.width);
			var othertop = otherobj.y;
			var otherbottom = otherobj.y + (otherobj.height);
			var crash = true;
			if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {
				crash = false;
			}
			return crash;
		}
	}
	
	function updateGameArea() {
		var x, height, gap, minHeight, maxHeight, minGap, maxGap;
		for (i = 0; i < myObstacles.length; i += 1) {
			if (myGamePiece.crashWith(myObstacles[i])) {
				return;
			} 
		}
		myGameArea.clear();
		myGameArea.frameNo += 1;
		if (myGameArea.frameNo == 1 || everyinterval(150)) {
			x = myGameArea.canvas.width;
			minHeight = 20;
			maxHeight = 200;
			height = Math.floor(Math.random()*(maxHeight-minHeight+1)+minHeight);
			minGap = 50;
			maxGap = 200;
			gap = Math.floor(Math.random()*(maxGap-minGap+1)+minGap);
			myObstacles.push(new component(10, height, "green", x, 0));
			myObstacles.push(new component(10, x - height - gap, "green", x, height + gap));
		}
		for (i = 0; i < myObstacles.length; i += 1) {
			myObstacles[i].x += -1;
			myObstacles[i].update();
		}
		myScore.text="SCORE: " + myGameArea.frameNo;
		myScore.update();
		myGamePiece.newPos();
		myGamePiece.update();
	}
	
	function everyinterval(n) {
		if ((myGameArea.frameNo / n) % 1 == 0) {return true;}
		return false;
	}
	
	function accelerate(n) {
		myGamePiece.gravity = n;
	}
	</script>
	<br>

		<a href="https://98672794.github.io/" title="莫氏有限公司">
		<h1>莫氏有限公司</h1></a>

		<!-- ============ 控 ============ -->
		<input type="radio" id="left" name="rotate">
		<label for="left"></label>
		<input type="radio" id="reset" name="rotate" checked>
		<label for="reset">Reset</label>
		<input type="radio" id="right" name="rotate">
		<label for="right">Right</label>
		<input type="radio" id="up" name="rotate">
		<label for="up">Up</label>
		<input type="radio" id="down" name="rotate">
		<label for="down">Down</label>
		
		<div class="perspective">
			<!-- ============ threeJs ============ -->
			<a href="https://98672794.github.io/abta/" class="cube" title="ASIA BLOCKCHAIN TECHNOLOGY APPLICATION HONG KONG" alt="ASIA BLOCKCHAIN TECHNOLOGY APPLICATION HONG KONG"/
			style="background-image: url(https://raw.githubusercontent.com/98672794/98672794.github.io/main/aki/abta_Sell.jpg)">
			</a>

			<div class="cube" title=""></div>

			<a href="https://98672794.github.io/易髮/" class="cube" title="易用的專業髮型業app:香港最專業既髮型業程式" alt="易用的專業髮型業app:香港最專業既髮型業程式"
			style="background-image: url(https://github.com/98672794/98672794.github.io/raw/main/aki/%E6%98%93%E9%AB%AESell.jpg)">
			</a>

			<div class="cube" title=""></div>

			<a href="https://98672794.github.io/自動覆客/" class="cube" title=".,. 聊天機器人ws仔: whatsapp 自動回覆 聊天機器人" alt=".,. 聊天機器人ws仔: whatsapp 自動回覆 聊天機器人"
			style="background-image: url(https://github.com/98672794/98672794.github.io/raw/main/aki/%E8%87%AA%E5%8B%95%E8%A6%86%E5%AE%A2Sell.jpg)">
			</a>

			<div class="cube" title=""></div>

			<a href="https://98672794.github.io/SomethingCapability/" class="cube" title="SomethingCapability" 
			style="background-image: url(https://98672794.github.io/SomethingCapability/STCQR.png)">
			</a>

			<a href="https://github.com/98672794/blockchain2022/blob/main/README.md" class="cube" title="blockchain2022 教學"
			style="background-image: url(https://aivia.io/blog/en/content/images/2020/07/metamask-aiv-6.png)">
			</a>


			<a href="https://98672794.github.io/SFGS100/" class="cube" title="香港中小企融資顧問協會:百分百擔保特惠貸款,八成信貸擔保產品,九成信貸擔保產品" alt="香港中小企融資顧問協會:百分百擔保特惠貸款,八成信貸擔保產品,九成信貸擔保產品"
			style="background-image: url(https://github.com/98672794/98672794.github.io/raw/main/aki/SFGS100_Sell.jpg)">
			</a>


		</div>





		<br>
		<button onmousedown="accelerate(-0.2)" onmouseup="accelerate(0.05)">ACCELERATE</button>
		<p>Use the ACCELERATE button to stay in the air</p>
		<p>How long can you stay alive?</p>

		
	</body>
</html>