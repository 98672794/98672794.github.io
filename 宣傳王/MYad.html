<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🐳宣傳王🐳 - 我的廣告</title>
    <link rel="stylesheet" href="aki.css">
    <script src="https://cdn.staticfile.org/pako/1.0.10/pako.min.js">//TxtZip </script>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script><!-- 用於貼js字 -->
    <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js">//SHA256</script>

    <script src="廣料.js">// 模擬從資料庫讀取廣告資料</script>
</head>
<body>
    <header>
        <h1>🐳宣傳王🐳 - 我的廣告</h1>
        <!-- m.js _網插件('頭','append','#頭',0) -->
    </header>





























    






    <main>
        <div id="adContainer" class="ad-grid">
            <!-- 收藏的廣告會在這裡動態載入 -->
        </div>
        <div class="pagination">
            <button onclick="changePage(-1)">上一頁</button>
            <button onclick="changePage(1)">下一頁</button>
        </div>
    </main>



    <nav id="導航">
        <!-- m.js _網插件('導航','html','#導航',0) -->
    </nav>

    <script>

        let currentPage = 1;
        const adsPerPage = 8;

        // 從localStorage讀取收藏的廣告ID
        const collectedAds = JSON.parse(localStorage.getItem('collectedAds')) || [];

        function loadCollectedAds() {
            const adContainer = document.getElementById('adContainer');
            adContainer.innerHTML = ''; // 清空容器

            const collectedAdItems = allAds.filter(ad => collectedAds.includes(ad.id));
            const startIndex = (currentPage - 1) * adsPerPage;
            const endIndex = startIndex + adsPerPage;
            const paginatedAds = collectedAdItems.slice(startIndex, endIndex);

            if (paginatedAds.length === 0) {
                adContainer.innerHTML = '<div class="no-ads"><h3>您還沒有收藏任何廣告</h3><p>瀏覽首頁並收藏您喜歡的廣告。</p></div>';
                return;
            }

            paginatedAds.forEach((ad) => {
                const adElement = document.createElement('div');
                adElement.className = 'ad-item';
                adElement.innerHTML = `
                    <img src="${ad.imageSrc}" alt="廣告 ${ad.id}" width="300" height="300">
                    <div class="ad-actions">
                        <button onclick="uncollectAd('${ad.id}')">取消收藏</button>
                        <button onclick="shareAd('${ad.id}')">分享</button>
                    </div>
                `;
                adContainer.appendChild(adElement);
            });
        }

        function uncollectAd(id) {
            const index = collectedAds.indexOf(id);
            if (index > -1) {
                collectedAds.splice(index, 1);
                localStorage.setItem('collectedAds', JSON.stringify(collectedAds));
                alert('已從收藏中移除！');
                loadCollectedAds();
            }
        }

        function shareAd(id) {
            alert(`分享廣告 ${id} 的功能即將推出！`);
        }

        function changePage(direction) {
            const totalCollectedAds = allAds.filter(ad => collectedAds.includes(ad.id)).length;
            const totalPages = Math.ceil(totalCollectedAds / adsPerPage);
            currentPage += direction;
            if (currentPage < 1) currentPage = 1;
            if (currentPage > totalPages) currentPage = totalPages;
            loadCollectedAds();
        }

        // 頁面加載時顯示收藏的廣告
        loadCollectedAds();
    </script>


















































</body>
<script src="m.js"></script>
<script src="aki.js"></script>
<script src="https://cdn.staticfile.net/translate.js/3.1.7/translate.js"></script>
<script>
    // 翻译 
    translate.language.setLocal('chinese_traditional'); //设置本地语种（当前网页的语种）。如果不设置，默认自动识别当前网页显示文字的语种。 可填写如 'english'、'chinese_simplified' 等，具体参见文档下方关于此的说明。
    translate.service.use('client.edge'); //设置机器翻译服务通道，直接客户端本身，不依赖服务端 。相关说明参考 http://translate.zvo.cn/43086.html
    translate.execute();//进行翻译 
</script>
</html>
